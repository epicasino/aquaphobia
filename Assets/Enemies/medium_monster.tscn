[gd_scene load_steps=50 format=3 uid="uid://uvel4gn55kf3"]

[ext_resource type="Script" path="res://Assets/Scripts/medium_monster.gd" id="1_meg7l"]
[ext_resource type="Texture2D" uid="uid://e851rvev16rj" path="res://Assets/Enemies/Sprites/drillshark_flattened-Sheet.png" id="2_5byun"]
[ext_resource type="AudioStream" uid="uid://xdh78f0smonk" path="res://Sound/SoundEffects/Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_drill1.wav" id="3_dv4j7"]
[ext_resource type="AudioStream" uid="uid://bj8d4eblto8h6" path="res://Sound/SoundEffects/Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_drill2.wav" id="4_2ok5l"]
[ext_resource type="AudioStream" uid="uid://cuwfbdqk5lqj8" path="res://Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_charge.wav" id="5_8jl61"]
[ext_resource type="AudioStream" uid="uid://diwbe1qnje7e5" path="res://Sound/SoundEffects/Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_longdrill.wav" id="5_lp8nl"]
[ext_resource type="AudioStream" uid="uid://fna88ake88vn" path="res://Sound/SoundEffects/Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_scream1.wav" id="6_8ydtm"]
[ext_resource type="AudioStream" uid="uid://c0aon7rxuel81" path="res://Sound/SoundEffects/Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_scream2.wav" id="7_au8o3"]
[ext_resource type="AudioStream" uid="uid://br1iscqusf1vh" path="res://Sound/SoundEffects/Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_scream3.wav" id="8_usfyf"]
[ext_resource type="AudioStream" uid="uid://cn15xyfw6vlg7" path="res://Sound/SoundEffects/Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_scream4.wav" id="9_vfvq2"]
[ext_resource type="AudioStream" uid="uid://dr8ysbj4rpnak" path="res://Sound/SoundEffects/Sound/SoundEffects/Creature_SFX/Drill Shark/drill_shark_hurt1.wav" id="11_4uio6"]

[sub_resource type="Curve2D" id="Curve2D_waygm"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 64, -632, -55.1543, -103.238, 55.1543, 103.238, 64, -192, 0, 0, 0, 0, 64, 0, -45.2548, -62.2254, 45.2548, 62.2254, 64, 192, 0, 0, 0, 0, 64, 448, 0, 0, 0, 0, 64, 448, 0, 0, 0, 0, 64, 640)
}
point_count = 7

[sub_resource type="AtlasTexture" id="AtlasTexture_re8i2"]
atlas = ExtResource("2_5byun")
region = Rect2(6400, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_oyeph"]
atlas = ExtResource("2_5byun")
region = Rect2(6720, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_s5eug"]
atlas = ExtResource("2_5byun")
region = Rect2(7040, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_ih8pq"]
atlas = ExtResource("2_5byun")
region = Rect2(7360, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_ja6ad"]
atlas = ExtResource("2_5byun")
region = Rect2(7680, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_lr00q"]
atlas = ExtResource("2_5byun")
region = Rect2(8000, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_pot12"]
atlas = ExtResource("2_5byun")
region = Rect2(8320, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_82ecm"]
atlas = ExtResource("2_5byun")
region = Rect2(8640, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_qfdcu"]
atlas = ExtResource("2_5byun")
region = Rect2(8960, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_6omw4"]
atlas = ExtResource("2_5byun")
region = Rect2(9280, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_sal5d"]
atlas = ExtResource("2_5byun")
region = Rect2(9600, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_g8c46"]
atlas = ExtResource("2_5byun")
region = Rect2(0, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_h4r0j"]
atlas = ExtResource("2_5byun")
region = Rect2(320, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_vcmfb"]
atlas = ExtResource("2_5byun")
region = Rect2(640, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_dhfgs"]
atlas = ExtResource("2_5byun")
region = Rect2(4480, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_sgwy4"]
atlas = ExtResource("2_5byun")
region = Rect2(4800, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_b68et"]
atlas = ExtResource("2_5byun")
region = Rect2(5120, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_3bv5p"]
atlas = ExtResource("2_5byun")
region = Rect2(5440, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_y4a4v"]
atlas = ExtResource("2_5byun")
region = Rect2(5760, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_kfkko"]
atlas = ExtResource("2_5byun")
region = Rect2(6080, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_evfse"]
atlas = ExtResource("2_5byun")
region = Rect2(960, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_lgrfb"]
atlas = ExtResource("2_5byun")
region = Rect2(1280, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_mblf4"]
atlas = ExtResource("2_5byun")
region = Rect2(1600, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_1ivob"]
atlas = ExtResource("2_5byun")
region = Rect2(1920, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_401fn"]
atlas = ExtResource("2_5byun")
region = Rect2(2240, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_bpyvp"]
atlas = ExtResource("2_5byun")
region = Rect2(2560, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_ktuj5"]
atlas = ExtResource("2_5byun")
region = Rect2(2880, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_uu4xf"]
atlas = ExtResource("2_5byun")
region = Rect2(3200, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_o1s3n"]
atlas = ExtResource("2_5byun")
region = Rect2(3520, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_lbne1"]
atlas = ExtResource("2_5byun")
region = Rect2(3840, 0, 320, 320)

[sub_resource type="AtlasTexture" id="AtlasTexture_38psq"]
atlas = ExtResource("2_5byun")
region = Rect2(4160, 0, 320, 320)

[sub_resource type="SpriteFrames" id="SpriteFrames_s0qdu"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_re8i2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_oyeph")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_s5eug")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ih8pq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ja6ad")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lr00q")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pot12")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_82ecm")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_qfdcu")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6omw4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sal5d")
}],
"loop": false,
"name": &"Turn to flee",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_g8c46")
}],
"loop": false,
"name": &"afk",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_h4r0j")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_vcmfb")
}],
"loop": true,
"name": &"charging",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_dhfgs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_sgwy4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b68et")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3bv5p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y4a4v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_kfkko")
}],
"loop": true,
"name": &"drilling",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_evfse")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lgrfb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mblf4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ivob")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_401fn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bpyvp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ktuj5")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uu4xf")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_o1s3n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lbne1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_38psq")
}],
"loop": false,
"name": &"impact",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8ncyd"]
size = Vector2(296, 128)

[sub_resource type="Animation" id="Animation_pjgh4"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PathFollow2D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedShark:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(64, 496)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedShark/AnimatedSprite2D:animation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"afk"]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("AnimatedShark/AnimatedSprite2D:frame")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}

[sub_resource type="Animation" id="Animation_xyvck"]
resource_name = "flee"
length = 2.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedShark:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1.3, 2.5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(64, 496), Vector2(64, 390.57), Vector2(-1000, 390.57)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedShark/AnimatedSprite2D:animation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.5, 1.7),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [&"afk", &"Turn to flee", &"Turn to flee"]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("AnimatedShark/AnimatedSprite2D:frame")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10]
}

[sub_resource type="Animation" id="Animation_60xep"]
resource_name = "move_down"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PathFollow2D:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(2.46229, 0.34151),
"update": 0,
"values": [0.0, 1.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xj1s0"]
_data = {
"RESET": SubResource("Animation_pjgh4"),
"flee": SubResource("Animation_xyvck"),
"move_down": SubResource("Animation_60xep")
}

[node name="medium_monster" type="Path2D"]
curve = SubResource("Curve2D_waygm")
script = ExtResource("1_meg7l")

[node name="AnimatedShark" type="AnimatableBody2D" parent="."]
position = Vector2(64, 496)
rotation = 1.5708

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="AnimatedShark"]
position = Vector2(0, -3)
rotation = -1.5708
sprite_frames = SubResource("SpriteFrames_s0qdu")
animation = &"afk"

[node name="CollisionShape2D" type="CollisionShape2D" parent="AnimatedShark"]
position = Vector2(-12, 0)
shape = SubResource("RectangleShape2D_8ncyd")

[node name="PathFollow2D" type="PathFollow2D" parent="."]
position = Vector2(64, -632)
rotation = 1.5708
loop = false

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="PathFollow2D"]
position = Vector2(-144, 6.29444e-06)
remote_path = NodePath("../../AnimatedShark")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_xj1s0")
}

[node name="wind-up-timer" type="Timer" parent="."]
wait_time = 4.0

[node name="attacking-timer" type="Timer" parent="."]
wait_time = 2.0
one_shot = true

[node name="damage-timer" type="Timer" parent="."]
wait_time = 4.0

[node name="Sounds" type="Node" parent="."]

[node name="drill_1" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("3_dv4j7")

[node name="drill_2" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("4_2ok5l")

[node name="charge" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("5_8jl61")

[node name="longdrill" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("5_lp8nl")

[node name="scream1" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("6_8ydtm")

[node name="scream2" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("7_au8o3")

[node name="scream3" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("8_usfyf")

[node name="scream4" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("9_vfvq2")

[node name="hurt1" type="AudioStreamPlayer2D" parent="Sounds"]
stream = ExtResource("11_4uio6")

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
[connection signal="timeout" from="wind-up-timer" to="." method="_on_winduptimer_timeout"]
[connection signal="timeout" from="attacking-timer" to="." method="_on_attackingtimer_timeout"]
[connection signal="timeout" from="damage-timer" to="." method="_on_damagetimer_timeout"]
[connection signal="finished" from="Sounds/drill_1" to="." method="_on_drill_1_finished"]
[connection signal="finished" from="Sounds/drill_2" to="." method="_on_drill_2_finished"]
[connection signal="finished" from="Sounds/longdrill" to="." method="_on_longdrill_finished"]
[connection signal="finished" from="Sounds/scream1" to="." method="_on_scream_1_finished"]
[connection signal="finished" from="Sounds/scream2" to="." method="_on_scream_2_finished"]
[connection signal="finished" from="Sounds/scream3" to="." method="_on_scream_3_finished"]
[connection signal="finished" from="Sounds/scream4" to="." method="_on_scream_4_finished"]
